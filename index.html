<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MeowNet ‚Äî –í–≤–µ–¥–∏—Ç–µ –∏–º—è —Å–∞–π—Ç–∞ üò∫</title>
<style>
html, body {
    margin: 0; padding: 0; height: 100%; overflow: hidden;
    font-family: 'Inter', system-ui, sans-serif;
    color: white; background: black;
}
.container {
    position: relative;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    height: 100%; text-align: center;
}
.cat { font-size: 64px; margin-bottom: 10px; }
h1 { font-size: 42px; margin:0; font-weight:700; letter-spacing:-0.03em; }
p { color:#ccc; margin:10px 0 30px; }
form {
    display:flex; align-items:center; justify-content:center;
    background: rgba(255,255,255,0.08);
    border-radius:999px; padding:10px 14px;
    backdrop-filter: blur(4px);
    max-width:600px; width:90%;
}
input[type="text"] {
    flex:1; border:none; outline:none; background:transparent;
    color:white; font-size:18px; padding:8px 10px;
}
button {
    border:none; background:#ff6b6b; color:white;
    font-size:16px; padding:10px 18px; border-radius:999px;
    cursor:pointer; transition: transform 0.2s, box-shadow 0.2s;
    box-shadow:0 4px 12px rgba(255,107,107,0.3);
}
button:hover {
    transform:translateY(-1px); box-shadow:0 6px 16px rgba(255,107,107,0.5);
}
footer {
    position:absolute; bottom:20px; color:#777;
    font-size:14px; text-align:center; width:100%;
}
iframe {
    width: 100%;
    height: 100vh;
    border: none;
}
</style>
</head>
<body>
<div class="container" id="mainContainer">
    <div class="cat">üò∫</div>
    <h1>MeowNet</h1>
    <p>–í–≤–µ–¥–∏—Ç–µ –∏–º—è —Å–∞–π—Ç–∞, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ —á–µ—Ä–µ–∑ MeowNet</p>
    <form id="siteForm">
        <input type="text" id="siteInput" placeholder="–∏–º—è-—Å–∞–π—Ç–∞">
        <button type="submit">–ü–µ—Ä–µ–π—Ç–∏</button>
    </form>
    <footer>‚ú® MeowNet ‚Äî –±–µ–∑ –ø–æ–∏—Å–∫–∞, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å–∞–π—Ç—É .meow ‚ú®</footer>
</div>

<script>
// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Firebase
const firebaseBase = "https://meownet-2e95c-default-rtdb.firebaseio.com/meownet";

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∞–π—Ç–∞
async function loadSite(siteName) {
    try {
        const url = `${firebaseBase}/${siteName}/code.json`;
        const response = await fetch(url);
        if (!response.ok) throw new Error("–°–∞–π—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω");
        const htmlCode = await response.text();
        // –°–æ–∑–¥–∞–µ–º iframe –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–¥
        const iframe = document.createElement('iframe');
        document.body.innerHTML = ''; // –æ—á–∏—â–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É
        document.body.appendChild(iframe);
        iframe.contentWindow.document.open();
        iframe.contentWindow.document.write(htmlCode);
        iframe.contentWindow.document.close();
    } catch (err) {
        document.body.innerHTML = `<h1 style="color:white; text-align:center; margin-top:20vh;">üòø 404<br>–°–∞–π—Ç ${siteName}.meow –Ω–µ –Ω–∞–π–¥–µ–Ω</h1>`;
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã
document.getElementById('siteForm').addEventListener('submit', function(e) {
    e.preventDefault();
    let siteName = document.getElementById('siteInput').value.trim();
    if (siteName) {
        siteName = encodeURIComponent(siteName);
        // –î–æ–±–∞–≤–ª—è–µ–º .meow –≤ URL
        const fullSiteName = siteName + ".meow";
        history.pushState({}, "", `/${fullSiteName}`);
        loadSite(siteName);
    }
});

// –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∞–π—Ç–∞ –ø—Ä–∏ –ø—Ä—è–º–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ URL
const path = location.pathname.slice(1);
if (path) {
    const siteName = path.replace(/\.meow$/, '');
    loadSite(siteName);
}
</script>
</body>
</html>

